{"version":3,"sources":["webpack:///./src/js/map.js","webpack:///./src/js/modules/dep/infoBubble/infobubble.js"],"names":["window","InfoBubble","map","data","isApiLoaded","isDomReady","init","th","classes","toggleActive","elements","$map","$","$toggles","mapOptions","styles","selected","markersLen","markers","length","type","indexOf","push","initedMarkers","infoWindows","build","events","toggleType","index","filter","addClass","indexMarker","setVisible","splice","removeClass","google","maps","Map","zoom","center","pos","mapTypeId","scrollwheel","mainImage","url","mainMarker","icon","size","Size","origin","Point","anchor","scaledSize","Marker","position","html","event","addListener","infoBubbleMainMarker","isOpen","open","infoBubble2","close","maxWidth","minWidth","content","LatLng","shadowStyle","padding","backgroundColor","borderRadius","arrowSize","borderWidth","borderColor","disableAutoPan","hideCloseButton","arrowPosition","backgroundClassName","arrowStyle","marker","infoWindow","InfoWindow","pixelOffset","image","activeMarker","setContent","on","$tg","onApiLoaded","document","ready"],"mappings":"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CA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA,0CAA0C;AAC1C,8BAA8B,gCAAgC;AAC9D,4CAA4C;AAC5C,uDAAuD,MAAM;AAC7D,mCAAmC,KAAK,8BAA8B;AACtE,QAAQ,+BAA+B,IAAI,6BAA6B;;AAExE;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,mBAAmB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0BAA0B,mBAAmB;;AAE7C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,+BAA+B;AAC1D;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,uBAAuB;AAClC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,uBAAuB;AAClC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,mBAAmB;AAC/B;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,KAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,MAAM;AAC5B,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,KAAK;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,YAAY;AACxB;AACA;AACA,oBAAoB,YAAY;AAChC;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,eAAe;AAC1B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,oBAAoB,mBAAmB;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,YAAY,iBAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC,0BAA0B,OAAO;AACjC,4BAA4B,OAAO;AACnC,6BAA6B,OAAO;;AAEpC;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,6BAA6B,YAAY;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"js/map.js","sourcesContent":["import InfoBubble from \"./modules/dep/infoBubble/infobubble.js\";\n\n\n\nwindow.InfoBubble = InfoBubble;\n\nwindow.map = {\n  data: {\n    isApiLoaded: 0,\n    isDomReady: 0\n  },\n  init: function() {\n\n    var th = map;\n\n    if (!th.data.isApiLoaded || !th.data.isDomReady) return;\n\n    th.classes = {\n      toggleActive: \"card_active\"\n    };\n\n    th.elements = {\n      $map: $(\"#map\"),\n      $toggles: $(\"[data-infrastructure-object-type]\")\n    };\n\n    th.data.mapOptions = th.elements.$map.data('map-options');\n\n    th.data.map = null;\n\n\n    th.data.mapOptions.styles = [{\n      \"featureType\": \"all\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"administrative\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }]\n    }, {\n      \"featureType\": \"administrative.country\",\n      \"elementType\": \"geometry.stroke\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"administrative.province\",\n      \"elementType\": \"geometry.stroke\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"landscape\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }, {\n        \"color\": \"#e3e3e3\"\n      }]\n    }, {\n      \"featureType\": \"landscape\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"landscape.man_made\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [{\n        \"saturation\": \"0\"\n      }, {\n        \"lightness\": \"6\"\n      }, {\n        \"weight\": \"0.90\"\n      }]\n    }, {\n      \"featureType\": \"landscape.man_made\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"landscape.natural\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }, {\n        \"lightness\": \"0\"\n      }]\n    }, {\n      \"featureType\": \"poi\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    }, {\n      \"featureType\": \"poi\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.attraction\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    }, {\n      \"featureType\": \"poi.attraction\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    }, {\n      \"featureType\": \"poi.attraction\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    }, {\n      \"featureType\": \"poi.attraction\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.business\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.business\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.government\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"simplified\"\n      }]\n    }, {\n      \"featureType\": \"poi.government\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.government\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.medical\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.park\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }, {\n        \"color\": \"#e6f0d7\"\n      }]\n    }, {\n      \"featureType\": \"poi.place_of_worship\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.school\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"poi.sports_complex\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"road\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"color\": \"#cccccc\"\n      }]\n    }, {\n      \"featureType\": \"road\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }]\n    }, {\n      \"featureType\": \"road\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [{\n        \"saturation\": \"0\"\n      }, {\n        \"lightness\": \"30\"\n      }]\n    }, {\n      \"featureType\": \"road\",\n      \"elementType\": \"geometry.stroke\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }]\n    }, {\n      \"featureType\": \"road\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"on\"\n      }]\n    }, {\n      \"featureType\": \"transit\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"transit\",\n      \"elementType\": \"labels.icon\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"transit.line\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"transit.line\",\n      \"elementType\": \"labels.text\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"transit.station\",\n      \"elementType\": \"all\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"transit.station.airport\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"transit.station.airport\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }, {\n      \"featureType\": \"water\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [{\n        \"color\": \"#FFFFFF\"\n      }]\n    }, {\n      \"featureType\": \"water\",\n      \"elementType\": \"geometry.fill\",\n      \"stylers\": [{\n        \"lightness\": \"-28\"\n      }, {\n        \"saturation\": \"33\"\n      }, {\n        \"color\": \"#f2f8fd\"\n      }]\n    }, {\n      \"featureType\": \"water\",\n      \"elementType\": \"labels\",\n      \"stylers\": [{\n        \"visibility\": \"off\"\n      }]\n    }];\n\n\n    th.data.selected = [];\n    var markersLen = th.data.mapOptions.markers.length;\n    for (markersLen; markersLen--;) {\n      let type = th.data.mapOptions.markers[markersLen].type;\n      if (th.data.selected.indexOf(type) === -1) th.data.selected.push(type);\n    }\n\n    th.data.initedMarkers = [];\n    th.data.infoWindows = [];\n\n\n    th.build();\n    th.events();\n\n\n  },\n\n  toggleType: function(type) {\n    //\tdebugger;\n    var th = map;\n\n    var index = th.data.selected.indexOf(type);\n\n    if (index === -1) {\n      th.data.selected.push(type);\n      th.elements.$toggles.filter(\"[data-infrastructure-object-type='\" + type + \"']\").addClass(th.classes.toggleActive);\n\n      var indexMarker = null;\n      var markersLen = th.data.initedMarkers.length;\n\n      for (markersLen; markersLen--;) {\n        if (th.data.initedMarkers[markersLen].type == type) {\n          th.data.initedMarkers[markersLen].setVisible(true);\n        }\n      }\n\n\n    } else {\n      th.data.selected.splice(index, 1);\n      th.elements.$toggles.filter(\"[data-infrastructure-object-type='\" + type + \"']\").removeClass(th.classes.toggleActive);\n\n      var indexMarker = null;\n      var markersLen = th.data.initedMarkers.length;\n\n      for (markersLen; markersLen--;) {\n        if (th.data.initedMarkers[markersLen].type == type) {\n          th.data.initedMarkers[markersLen].setVisible(false);\n        }\n      }\n    }\n\n  },\n  build: function() {\n\n    var th = map;\n\n    th.map = new google.maps.Map(th.elements.$map[0], {\n      zoom: th.data.mapOptions.zoom,\n      center: th.data.mapOptions.pos,\n      styles: th.data.mapOptions.styles,\n      mapTypeId: 'satellite',\n      scrollwheel: false\n    });\n\n    var mainImage = {\n      url: th.data.mapOptions.mainMarker.icon,\n      size: new google.maps.Size(96, 129),\n      origin: new google.maps.Point(0, 0),\n      anchor: new google.maps.Point(21, 63),\n      scaledSize: new google.maps.Size(49, 64)\n    };\n\n\n    var mainMarker = new google.maps.Marker({\n      position: th.data.mapOptions.mainMarker.pos,\n      html: th.data.mapOptions.mainMarker.html,\n      map: th.map,\n      icon: mainImage\n    });\n\n    if (mainMarker.html) {\n      google.maps.event.addListener(mainMarker, 'click', function() {\n        if (!infoBubbleMainMarker.isOpen()) {\n          infoBubbleMainMarker.open(th.map, mainMarker);\n          infoBubble2.close();\n        } else {\n          infoBubbleMainMarker.close();\n        }\n      });\n      var infoBubbleMainMarker;\n      infoBubbleMainMarker = new InfoBubble({\n        maxWidth: 400,\n        minWidth: 400,\n        map: th.map,\n        content: th.data.mapOptions.mainMarker.html,\n        position: new google.maps.LatLng(th.data.mapOptions.mainMarker.pos),\n        shadowStyle: 0,\n        padding: 0,\n        backgroundColor: 'none',\n        borderRadius: 0,\n        arrowSize: 0,\n        borderWidth: 0,\n        borderColor: 'none',\n        disableAutoPan: false,\n        hideCloseButton: false,\n        arrowPosition: 50,\n        backgroundClassName: 'phoney',\n        arrowStyle: 1,\n      });\n    }\n    // set markers\n\n    var marker;\n    var infoBubble2;\n    var infoWindow = new google.maps.InfoWindow({\n      pixelOffset: new google.maps.Size(0, 0),\n      maxWidth: 400\n    });\n    var markersLen = th.data.mapOptions.markers.length;\n    for (markersLen; markersLen--;) {\n\n      var image = {\n        url: th.data.mapOptions.markers[markersLen].icon,\n        size: new google.maps.Size(68, 90),\n        origin: new google.maps.Point(0, 0),\n        anchor: new google.maps.Point(17, 45),\n        scaledSize: new google.maps.Size(34, 45)\n      };\n\n      marker = new google.maps.Marker({\n        position: th.data.mapOptions.markers[markersLen].pos,\n        map: th.map,\n        icon: image,\n        type: th.data.mapOptions.markers[markersLen].type,\n        html: th.data.mapOptions.markers[markersLen].html\n      });\n\n      infoBubble2 = new InfoBubble({\n        maxWidth: 400,\n        minWidth: 400,\n        map: th.map,\n        content: th.data.mapOptions.markers[markersLen].html,\n        position: new google.maps.LatLng(0, 0),\n        shadowStyle: 0,\n        padding: 0,\n        backgroundColor: 'none',\n        borderRadius: 0,\n        arrowSize: 0,\n        borderWidth: 0,\n        borderColor: 'none',\n        disableAutoPan: false,\n        hideCloseButton: false,\n        arrowPosition: 50,\n        backgroundClassName: 'phoney',\n        arrowStyle: 1,\n      });\n\n      google.maps.event.addListener(marker, 'click', (function(activeMarker) {\n        return function() {\n          if (!infoBubble2.isOpen()) {\n            infoBubble2.setContent(activeMarker.html);\n            infoBubble2.open(th.map, activeMarker);\n            infoBubbleMainMarker.close();\n          } else {\n            infoBubble2.close();\n            infoBubble2.setContent(activeMarker.html);\n            infoBubble2.open(th.map, activeMarker);\n          }\n        }\n      })(marker, markersLen));\n      th.data.initedMarkers.push(marker);\n    }\n  },\n  events: function() {\n\n    var th = map;\n\n    th.elements.$toggles.on('click', function() {\n      var $tg = $(this);\n      var type = $tg.data('infrastructure-object-type');\n      th.toggleType(\"\" + type);\n\n    });\n\n\n    // $(document).on('click', '.infowindow', function() {\n    //\n    // })\n\n  },\n  onApiLoaded: function() {\n\n    var th = map;\n    th.data.isApiLoaded = 1;\n    th.init();\n  }\n};\n\n// init map\n$(document).ready(function() {\n\n  if ($('#map').length) {\n    map.data.isDomReady = 1;\n    map.init();\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/map.js","\n\nfunction InfoBubble(opt_options) {\n  this.extend(InfoBubble, google.maps.OverlayView);\n  this.tabs_ = [];\n  this.activeTab_ = null;\n  this.baseZIndex_ = 100;\n  this.isOpen_ = false;\n\n  var options = opt_options || {};\n\n  if (options['backgroundColor'] == undefined) {\n    options['backgroundColor'] = this.BACKGROUND_COLOR_;\n  }\n\n  if (options['borderColor'] == undefined) {\n    options['borderColor'] = this.BORDER_COLOR_;\n  }\n\n  if (options['borderRadius'] == undefined) {\n    options['borderRadius'] = this.BORDER_RADIUS_;\n  }\n\n  if (options['borderWidth'] == undefined) {\n    options['borderWidth'] = this.BORDER_WIDTH_;\n  }\n\n  if (options['padding'] == undefined) {\n    options['padding'] = this.PADDING_;\n  }\n\n  if (options['arrowPosition'] == undefined) {\n    options['arrowPosition'] = this.ARROW_POSITION_;\n  }\n\n  if (options['disableAutoPan'] == undefined) {\n    options['disableAutoPan'] = false;\n  }\n\n  if (options['disableAnimation'] == undefined) {\n    options['disableAnimation'] = false;\n  }\n\n  if (options['minWidth'] == undefined) {\n    options['minWidth'] = this.MIN_WIDTH_;\n  }\n\n  if (options['shadowStyle'] == undefined) {\n    options['shadowStyle'] = this.SHADOW_STYLE_;\n  }\n\n  if (options['arrowSize'] == undefined) {\n    options['arrowSize'] = this.ARROW_SIZE_;\n  }\n\n  if (options['arrowStyle'] == undefined) {\n    options['arrowStyle'] = this.ARROW_STYLE_;\n  }\n\n  this.buildDom_();\n\n  this.setValues(options);\n}\n\nexport default InfoBubble;\n\n\n/**\n * Default arrow size\n * @const\n * @private\n */\nInfoBubble.prototype.ARROW_SIZE_ = 15;\n\n\n/**\n * Default arrow style\n * @const\n * @private\n */\nInfoBubble.prototype.ARROW_STYLE_ = 0;\n\n\n/**\n * Default shadow style\n * @const\n * @private\n */\nInfoBubble.prototype.SHADOW_STYLE_ = 1;\n\n\n/**\n * Default min width\n * @const\n * @private\n */\nInfoBubble.prototype.MIN_WIDTH_ = 50;\n\n\n/**\n * Default arrow position\n * @const\n * @private\n */\nInfoBubble.prototype.ARROW_POSITION_ = 50;\n\n\n/**\n * Default padding\n * @const\n * @private\n */\nInfoBubble.prototype.PADDING_ = 10;\n\n\n/**\n * Default border width\n * @const\n * @private\n */\nInfoBubble.prototype.BORDER_WIDTH_ = 1;\n\n\n/**\n * Default border color\n * @const\n * @private\n */\nInfoBubble.prototype.BORDER_COLOR_ = '#ccc';\n\n\n/**\n * Default border radius\n * @const\n * @private\n */\nInfoBubble.prototype.BORDER_RADIUS_ = 10;\n\n\n/**\n * Default background color\n * @const\n * @private\n */\nInfoBubble.prototype.BACKGROUND_COLOR_ = '#fff';\n\n\n/**\n * Extends a objects prototype by anothers.\n *\n * @param {Object} obj1 The object to be extended.\n * @param {Object} obj2 The object to extend with.\n * @return {Object} The new extended object.\n * @ignore\n */\nInfoBubble.prototype.extend = function(obj1, obj2) {\n  return (function(object) {\n    for (var property in object.prototype) {\n      this.prototype[property] = object.prototype[property];\n    }\n    return this;\n  }).apply(obj1, [obj2]);\n};\n\n\n/**\n * Builds the InfoBubble dom\n * @private\n */\nInfoBubble.prototype.buildDom_ = function() {\n  var bubble = this.bubble_ = document.createElement('DIV');\n  bubble.style['position'] = 'absolute';\n  bubble.style['zIndex'] = this.baseZIndex_;\n\n  var tabsContainer = this.tabsContainer_ = document.createElement('DIV');\n  tabsContainer.style['position'] = 'relative';\n\n  // Close button\n  var close = this.close_ = document.createElement('BUTTON');\n  close.style['position'] = 'absolute';\n  close.style['width'] = 22;\n  close.style['height'] = 22;\n  close.style['border'] = 0;\n  close.style['zIndex'] = this.baseZIndex_ + 1;\n  close.style['cursor'] = 'pointer';\n  close.classList.add('infowindow__close');\n  //close.src = 'http://maps.gstatic.com/intl/en_us/mapfiles/iw_close.gif';\n\n\n\n\n  var that = this;\n  google.maps.event.addDomListener(close, 'click', function() {\n    that.close();\n    google.maps.event.trigger(that, 'closeclick');\n  });\n\n  // Content area\n  var contentContainer = this.contentContainer_ = document.createElement('DIV');\n  contentContainer.style['overflowX'] = 'auto';\n  contentContainer.style['overflowY'] = 'auto';\n  contentContainer.style['cursor'] = 'default';\n  contentContainer.style['clear'] = 'both';\n  contentContainer.style['position'] = 'relative';\n\n  var content = this.content_ = document.createElement('DIV');\n  contentContainer.appendChild(content);\n\n  // Arrow\n  var arrow = this.arrow_ = document.createElement('DIV');\n  arrow.style['position'] = 'relative';\n\n  var arrowOuter = this.arrowOuter_ = document.createElement('DIV');\n  var arrowInner = this.arrowInner_ = document.createElement('DIV');\n\n  var arrowSize = this.getArrowSize_();\n\n  arrowOuter.style['position'] = arrowInner.style['position'] = 'absolute';\n  arrowOuter.style['left'] = arrowInner.style['left'] = '50%';\n  arrowOuter.style['height'] = arrowInner.style['height'] = '0';\n  arrowOuter.style['width'] = arrowInner.style['width'] = '0';\n  arrowOuter.style['marginLeft'] = this.px(-arrowSize);\n  arrowOuter.style['borderWidth'] = this.px(arrowSize);\n  arrowOuter.style['borderBottomWidth'] = 0;\n\n  // Shadow\n  var bubbleShadow = this.bubbleShadow_ = document.createElement('DIV');\n  bubbleShadow.style['position'] = 'absolute';\n\n  // Hide the InfoBubble by default\n  bubble.style['display'] = bubbleShadow.style['display'] = 'none';\n\n  bubble.appendChild(this.tabsContainer_);\n  //bubble.appendChild(close);\n  contentContainer.appendChild(close);\n  //console.log(contentContainer.getElementsByTagName('div')[0]);\n  bubble.appendChild(contentContainer);\n  arrow.appendChild(arrowOuter);\n  arrow.appendChild(arrowInner);\n  bubble.appendChild(arrow);\n\n  //var myClose = \"<div>gav</div>\";\n  //contentContainer.getElementsByTagName('div')[0].append(myClose);\n\n\n  //contentContainer.querySelector('.infowindow').appendChild(close);\n\n  var stylesheet = document.createElement('style');\n  stylesheet.setAttribute('type', 'text/css');\n\n  /**\n   * The animation for the infobubble\n   * @type {string}\n   */\n  //this.animationName_ = '_ibani_' + Math.round(Math.random() * 10000);\n  this.animationName_ = '_ibani_1';\n\n  var css = '.' + this.animationName_ + '{-webkit-animation-name:' +\n      this.animationName_ + ';-webkit-animation-duration:0.5s;' +\n      '-webkit-animation-iteration-count:1;}' +\n      '@-webkit-keyframes ' + this.animationName_ + ' {from {' +\n      '-webkit-transform: scale(0)}50% {-webkit-transform: scale(1.2)}90% ' +\n      '{-webkit-transform: scale(0.95)}to {-webkit-transform: scale(1)}}';\n\n  stylesheet.textContent = css;\n  document.getElementsByTagName('head')[0].appendChild(stylesheet);\n};\n\n\n/**\n * Sets the background class name\n *\n * @param {string} className The class name to set.\n */\nInfoBubble.prototype.setBackgroundClassName = function(className) {\n  this.set('backgroundClassName', className);\n};\nInfoBubble.prototype['setBackgroundClassName'] =\n    InfoBubble.prototype.setBackgroundClassName;\n\n\n/**\n * changed MVC callback\n */\nInfoBubble.prototype.backgroundClassName_changed = function() {\n  this.content_.className = this.get('backgroundClassName');\n};\nInfoBubble.prototype['backgroundClassName_changed'] =\n    InfoBubble.prototype.backgroundClassName_changed;\n\n\n/**\n * Sets the class of the tab\n *\n * @param {string} className the class name to set.\n */\nInfoBubble.prototype.setTabClassName = function(className) {\n  this.set('tabClassName', className);\n};\nInfoBubble.prototype['setTabClassName'] =\n    InfoBubble.prototype.setTabClassName;\n\n\n/**\n * tabClassName changed MVC callback\n */\nInfoBubble.prototype.tabClassName_changed = function() {\n  this.updateTabStyles_();\n};\nInfoBubble.prototype['tabClassName_changed'] =\n    InfoBubble.prototype.tabClassName_changed;\n\n\n/**\n * Gets the style of the arrow\n *\n * @private\n * @return {number} The style of the arrow.\n */\nInfoBubble.prototype.getArrowStyle_ = function() {\n  return parseInt(this.get('arrowStyle'), 10) || 0;\n};\n\n\n/**\n * Sets the style of the arrow\n *\n * @param {number} style The style of the arrow.\n */\nInfoBubble.prototype.setArrowStyle = function(style) {\n  this.set('arrowStyle', style);\n};\nInfoBubble.prototype['setArrowStyle'] =\n    InfoBubble.prototype.setArrowStyle;\n\n\n/**\n * Arrow style changed MVC callback\n */\nInfoBubble.prototype.arrowStyle_changed = function() {\n  this.arrowSize_changed();\n};\nInfoBubble.prototype['arrowStyle_changed'] =\n    InfoBubble.prototype.arrowStyle_changed;\n\n\n/**\n * Gets the size of the arrow\n *\n * @private\n * @return {number} The size of the arrow.\n */\nInfoBubble.prototype.getArrowSize_ = function() {\n  return parseInt(this.get('arrowSize'), 10) || 0;\n};\n\n\n/**\n * Sets the size of the arrow\n *\n * @param {number} size The size of the arrow.\n */\nInfoBubble.prototype.setArrowSize = function(size) {\n  this.set('arrowSize', size);\n};\nInfoBubble.prototype['setArrowSize'] =\n    InfoBubble.prototype.setArrowSize;\n\n\n/**\n * Arrow size changed MVC callback\n */\nInfoBubble.prototype.arrowSize_changed = function() {\n  this.borderWidth_changed();\n};\nInfoBubble.prototype['arrowSize_changed'] =\n    InfoBubble.prototype.arrowSize_changed;\n\n\n/**\n * Set the position of the InfoBubble arrow\n *\n * @param {number} pos The position to set.\n */\nInfoBubble.prototype.setArrowPosition = function(pos) {\n  this.set('arrowPosition', pos);\n};\nInfoBubble.prototype['setArrowPosition'] =\n    InfoBubble.prototype.setArrowPosition;\n\n\n/**\n * Get the position of the InfoBubble arrow\n *\n * @private\n * @return {number} The position..\n */\nInfoBubble.prototype.getArrowPosition_ = function() {\n  return parseInt(this.get('arrowPosition'), 10) || 0;\n};\n\n\n/**\n * arrowPosition changed MVC callback\n */\nInfoBubble.prototype.arrowPosition_changed = function() {\n  var pos = this.getArrowPosition_();\n  this.arrowOuter_.style['left'] = this.arrowInner_.style['left'] = pos + '%';\n\n  this.redraw_();\n};\nInfoBubble.prototype['arrowPosition_changed'] =\n    InfoBubble.prototype.arrowPosition_changed;\n\n\n/**\n * Set the zIndex of the InfoBubble\n *\n * @param {number} zIndex The zIndex to set.\n */\nInfoBubble.prototype.setZIndex = function(zIndex) {\n  this.set('zIndex', zIndex);\n};\nInfoBubble.prototype['setZIndex'] = InfoBubble.prototype.setZIndex;\n\n\n/**\n * Get the zIndex of the InfoBubble\n *\n * @return {number} The zIndex to set.\n */\nInfoBubble.prototype.getZIndex = function() {\n  return parseInt(this.get('zIndex'), 10) || this.baseZIndex_;\n};\n\n\n/**\n * zIndex changed MVC callback\n */\nInfoBubble.prototype.zIndex_changed = function() {\n  var zIndex = this.getZIndex();\n\n  this.bubble_.style['zIndex'] = this.baseZIndex_ = zIndex;\n  this.close_.style['zIndex'] = zIndex + 1;\n};\nInfoBubble.prototype['zIndex_changed'] = InfoBubble.prototype.zIndex_changed;\n\n\n/**\n * Set the style of the shadow\n *\n * @param {number} shadowStyle The style of the shadow.\n */\nInfoBubble.prototype.setShadowStyle = function(shadowStyle) {\n  this.set('shadowStyle', shadowStyle);\n};\nInfoBubble.prototype['setShadowStyle'] = InfoBubble.prototype.setShadowStyle;\n\n\n/**\n * Get the style of the shadow\n *\n * @private\n * @return {number} The style of the shadow.\n */\nInfoBubble.prototype.getShadowStyle_ = function() {\n  return parseInt(this.get('shadowStyle'), 10) || 0;\n};\n\n\n/**\n * shadowStyle changed MVC callback\n */\nInfoBubble.prototype.shadowStyle_changed = function() {\n  var shadowStyle = this.getShadowStyle_();\n\n  var display = '';\n  var shadow = '';\n  var backgroundColor = '';\n  switch (shadowStyle) {\n    case 0:\n      display = 'none';\n      break;\n    case 1:\n      shadow = '40px 15px 10px rgba(33,33,33,0.3)';\n      backgroundColor = 'transparent';\n      break;\n    case 2:\n      shadow = '0 0 2px rgba(33,33,33,0.3)';\n      backgroundColor = 'rgba(33,33,33,0.35)';\n      break;\n  }\n  this.bubbleShadow_.style['boxShadow'] =\n      this.bubbleShadow_.style['webkitBoxShadow'] =\n      this.bubbleShadow_.style['MozBoxShadow'] = shadow;\n  this.bubbleShadow_.style['backgroundColor'] = backgroundColor;\n  if (this.isOpen_) {\n    this.bubbleShadow_.style['display'] = display;\n    this.draw();\n  }\n};\nInfoBubble.prototype['shadowStyle_changed'] =\n    InfoBubble.prototype.shadowStyle_changed;\n\n\n/**\n * Show the close button\n */\nInfoBubble.prototype.showCloseButton = function() {\n  this.set('hideCloseButton', false);\n};\nInfoBubble.prototype['showCloseButton'] = InfoBubble.prototype.showCloseButton;\n\n\n/**\n * Hide the close button\n */\nInfoBubble.prototype.hideCloseButton = function() {\n  this.set('hideCloseButton', true);\n};\nInfoBubble.prototype['hideCloseButton'] = InfoBubble.prototype.hideCloseButton;\n\n\n/**\n * hideCloseButton changed MVC callback\n */\nInfoBubble.prototype.hideCloseButton_changed = function() {\n  this.close_.style['display'] = this.get('hideCloseButton') ? 'none' : '';\n};\nInfoBubble.prototype['hideCloseButton_changed'] =\n    InfoBubble.prototype.hideCloseButton_changed;\n\n\n/**\n * Set the background color\n *\n * @param {string} color The color to set.\n */\nInfoBubble.prototype.setBackgroundColor = function(color) {\n  if (color) {\n    this.set('backgroundColor', color);\n  }\n};\nInfoBubble.prototype['setBackgroundColor'] =\n    InfoBubble.prototype.setBackgroundColor;\n\n\n/**\n * backgroundColor changed MVC callback\n */\nInfoBubble.prototype.backgroundColor_changed = function() {\n  var backgroundColor = this.get('backgroundColor');\n  this.contentContainer_.style['backgroundColor'] = backgroundColor;\n\n  this.arrowInner_.style['borderColor'] = backgroundColor +\n      ' transparent transparent';\n  this.updateTabStyles_();\n};\nInfoBubble.prototype['backgroundColor_changed'] =\n    InfoBubble.prototype.backgroundColor_changed;\n\n\n/**\n * Set the border color\n *\n * @param {string} color The border color.\n */\nInfoBubble.prototype.setBorderColor = function(color) {\n  if (color) {\n    this.set('borderColor', color);\n  }\n};\nInfoBubble.prototype['setBorderColor'] = InfoBubble.prototype.setBorderColor;\n\n\n/**\n * borderColor changed MVC callback\n */\nInfoBubble.prototype.borderColor_changed = function() {\n  var borderColor = this.get('borderColor');\n\n  var contentContainer = this.contentContainer_;\n  var arrowOuter = this.arrowOuter_;\n  contentContainer.style['borderColor'] = borderColor;\n\n  arrowOuter.style['borderColor'] = borderColor +\n      ' transparent transparent';\n\n  contentContainer.style['borderStyle'] =\n      arrowOuter.style['borderStyle'] =\n      this.arrowInner_.style['borderStyle'] = 'solid';\n\n  this.updateTabStyles_();\n};\nInfoBubble.prototype['borderColor_changed'] =\n    InfoBubble.prototype.borderColor_changed;\n\n\n/**\n * Set the radius of the border\n *\n * @param {number} radius The radius of the border.\n */\nInfoBubble.prototype.setBorderRadius = function(radius) {\n  this.set('borderRadius', radius);\n};\nInfoBubble.prototype['setBorderRadius'] = InfoBubble.prototype.setBorderRadius;\n\n\n/**\n * Get the radius of the border\n *\n * @private\n * @return {number} The radius of the border.\n */\nInfoBubble.prototype.getBorderRadius_ = function() {\n  return parseInt(this.get('borderRadius'), 10) || 0;\n};\n\n\n/**\n * borderRadius changed MVC callback\n */\nInfoBubble.prototype.borderRadius_changed = function() {\n  var borderRadius = this.getBorderRadius_();\n  var borderWidth = this.getBorderWidth_();\n\n  this.contentContainer_.style['borderRadius'] =\n      this.contentContainer_.style['MozBorderRadius'] =\n      this.contentContainer_.style['webkitBorderRadius'] =\n      this.bubbleShadow_.style['borderRadius'] =\n      this.bubbleShadow_.style['MozBorderRadius'] =\n      this.bubbleShadow_.style['webkitBorderRadius'] = this.px(borderRadius);\n\n  this.tabsContainer_.style['paddingLeft'] =\n      this.tabsContainer_.style['paddingRight'] =\n      this.px(borderRadius + borderWidth);\n\n  this.redraw_();\n};\nInfoBubble.prototype['borderRadius_changed'] =\n    InfoBubble.prototype.borderRadius_changed;\n\n\n/**\n * Get the width of the border\n *\n * @private\n * @return {number} width The width of the border.\n */\nInfoBubble.prototype.getBorderWidth_ = function() {\n  return parseInt(this.get('borderWidth'), 10) || 0;\n};\n\n\n/**\n * Set the width of the border\n *\n * @param {number} width The width of the border.\n */\nInfoBubble.prototype.setBorderWidth = function(width) {\n  this.set('borderWidth', width);\n};\nInfoBubble.prototype['setBorderWidth'] = InfoBubble.prototype.setBorderWidth;\n\n\n/**\n * borderWidth change MVC callback\n */\nInfoBubble.prototype.borderWidth_changed = function() {\n  var borderWidth = this.getBorderWidth_();\n\n  this.contentContainer_.style['borderWidth'] = this.px(borderWidth);\n  this.tabsContainer_.style['top'] = this.px(borderWidth);\n\n  this.updateArrowStyle_();\n  this.updateTabStyles_();\n  this.borderRadius_changed();\n  this.redraw_();\n};\nInfoBubble.prototype['borderWidth_changed'] =\n    InfoBubble.prototype.borderWidth_changed;\n\n\n/**\n * Update the arrow style\n * @private\n */\nInfoBubble.prototype.updateArrowStyle_ = function() {\n  var borderWidth = this.getBorderWidth_();\n  var arrowSize = this.getArrowSize_();\n  var arrowStyle = this.getArrowStyle_();\n  var arrowOuterSizePx = this.px(arrowSize);\n  var arrowInnerSizePx = this.px(Math.max(0, arrowSize - borderWidth));\n\n  var outer = this.arrowOuter_;\n  var inner = this.arrowInner_;\n\n  this.arrow_.style['marginTop'] = this.px(-borderWidth);\n  outer.style['borderTopWidth'] = arrowOuterSizePx;\n  inner.style['borderTopWidth'] = arrowInnerSizePx;\n\n  // Full arrow or arrow pointing to the left\n  if (arrowStyle == 0 || arrowStyle == 1) {\n    outer.style['borderLeftWidth'] = arrowOuterSizePx;\n    inner.style['borderLeftWidth'] = arrowInnerSizePx;\n  } else {\n    outer.style['borderLeftWidth'] = inner.style['borderLeftWidth'] = 0;\n  }\n\n  // Full arrow or arrow pointing to the right\n  if (arrowStyle == 0 || arrowStyle == 2) {\n    outer.style['borderRightWidth'] = arrowOuterSizePx;\n    inner.style['borderRightWidth'] = arrowInnerSizePx;\n  } else {\n    outer.style['borderRightWidth'] = inner.style['borderRightWidth'] = 0;\n  }\n\n  if (arrowStyle < 2) {\n    outer.style['marginLeft'] = this.px(-(arrowSize));\n    inner.style['marginLeft'] = this.px(-(arrowSize - borderWidth));\n  } else {\n    outer.style['marginLeft'] = inner.style['marginLeft'] = 0;\n  }\n\n  // If there is no border then don't show thw outer arrow\n  if (borderWidth == 0) {\n    outer.style['display'] = 'none';\n  } else {\n    outer.style['display'] = '';\n  }\n};\n\n\n/**\n * Set the padding of the InfoBubble\n *\n * @param {number} padding The padding to apply.\n */\nInfoBubble.prototype.setPadding = function(padding) {\n  this.set('padding', padding);\n};\nInfoBubble.prototype['setPadding'] = InfoBubble.prototype.setPadding;\n\n\n/**\n * Set the padding of the InfoBubble\n *\n * @private\n * @return {number} padding The padding to apply.\n */\nInfoBubble.prototype.getPadding_ = function() {\n  return parseInt(this.get('padding'), 10) || 0;\n};\n\n\n/**\n * padding changed MVC callback\n */\nInfoBubble.prototype.padding_changed = function() {\n  var padding = this.getPadding_();\n  this.contentContainer_.style['padding'] = this.px(padding);\n  this.updateTabStyles_();\n\n  this.redraw_();\n};\nInfoBubble.prototype['padding_changed'] = InfoBubble.prototype.padding_changed;\n\n\n/**\n * Add px extention to the number\n *\n * @param {number} num The number to wrap.\n * @return {string|number} A wrapped number.\n */\nInfoBubble.prototype.px = function(num) {\n  if (num) {\n    // 0 doesn't need to be wrapped\n    return num + 'px';\n  }\n  return num;\n};\n\n\n/**\n * Add events to stop propagation\n * @private\n */\nInfoBubble.prototype.addEvents_ = function() {\n  // We want to cancel all the events so they do not go to the map\n  var events = ['mousedown', 'mousemove', 'mouseover', 'mouseout', 'mouseup',\n      'mousewheel', 'DOMMouseScroll', 'touchstart', 'touchend', 'touchmove',\n      'dblclick', 'contextmenu', 'click'];\n\n  var bubble = this.bubble_;\n  this.listeners_ = [];\n  for (var i = 0, event; event = events[i]; i++) {\n    this.listeners_.push(\n      google.maps.event.addDomListener(bubble, event, function(e) {\n        e.cancelBubble = true;\n        if (e.stopPropagation) {\n          e.stopPropagation();\n        }\n      })\n    );\n  }\n};\n\n\n/**\n * On Adding the InfoBubble to a map\n * Implementing the OverlayView interface\n */\nInfoBubble.prototype.onAdd = function() {\n  if (!this.bubble_) {\n    this.buildDom_();\n  }\n\n  this.addEvents_();\n\n  var panes = this.getPanes();\n  if (panes) {\n    panes.floatPane.appendChild(this.bubble_);\n    panes.floatShadow.appendChild(this.bubbleShadow_);\n  }\n};\nInfoBubble.prototype['onAdd'] = InfoBubble.prototype.onAdd;\n\n\n/**\n * Draw the InfoBubble\n * Implementing the OverlayView interface\n */\nInfoBubble.prototype.draw = function() {\n  var projection = this.getProjection();\n\n  if (!projection) {\n    // The map projection is not ready yet so do nothing\n    return;\n  }\n\n  var latLng = /** @type {google.maps.LatLng} */ (this.get('position'));\n\n  if (!latLng) {\n    this.close();\n    return;\n  }\n\n  var tabHeight = 0;\n\n  if (this.activeTab_) {\n    tabHeight = this.activeTab_.offsetHeight;\n  }\n\n  var anchorHeight = this.getAnchorHeight_();\n  var arrowSize = this.getArrowSize_();\n  var arrowPosition = this.getArrowPosition_();\n\n  arrowPosition = arrowPosition / 100;\n\n  var pos = projection.fromLatLngToDivPixel(latLng);\n  var width = this.contentContainer_.offsetWidth;\n  var height = this.bubble_.offsetHeight;\n\n  if (!width) {\n    return;\n  }\n\n  // Adjust for the height of the info bubble\n  var top = pos.y - (height + arrowSize);\n\n  if (anchorHeight) {\n    // If there is an anchor then include the height\n    top -= anchorHeight;\n  }\n\n  var left = pos.x - (width * arrowPosition);\n\n  this.bubble_.style['top'] = this.px(top);\n  this.bubble_.style['left'] = this.px(left);\n\n  var shadowStyle = parseInt(this.get('shadowStyle'), 10);\n\n  switch (shadowStyle) {\n    case 1:\n      // Shadow is behind\n      this.bubbleShadow_.style['top'] = this.px(top + tabHeight - 1);\n      this.bubbleShadow_.style['left'] = this.px(left);\n      this.bubbleShadow_.style['width'] = this.px(width);\n      this.bubbleShadow_.style['height'] =\n          this.px(this.contentContainer_.offsetHeight - arrowSize);\n      break;\n    case 2:\n      // Shadow is below\n      width = width * 0.8;\n      if (anchorHeight) {\n        this.bubbleShadow_.style['top'] = this.px(pos.y);\n      } else {\n        this.bubbleShadow_.style['top'] = this.px(pos.y + arrowSize);\n      }\n      this.bubbleShadow_.style['left'] = this.px(pos.x - width * arrowPosition);\n\n      this.bubbleShadow_.style['width'] = this.px(width);\n      this.bubbleShadow_.style['height'] = this.px(2);\n      break;\n  }\n};\nInfoBubble.prototype['draw'] = InfoBubble.prototype.draw;\n\n\n/**\n * Removing the InfoBubble from a map\n */\nInfoBubble.prototype.onRemove = function() {\n  if (this.bubble_ && this.bubble_.parentNode) {\n    this.bubble_.parentNode.removeChild(this.bubble_);\n  }\n  if (this.bubbleShadow_ && this.bubbleShadow_.parentNode) {\n    this.bubbleShadow_.parentNode.removeChild(this.bubbleShadow_);\n  }\n\n  for (var i = 0, listener; listener = this.listeners_[i]; i++) {\n    google.maps.event.removeListener(listener);\n  }\n};\nInfoBubble.prototype['onRemove'] = InfoBubble.prototype.onRemove;\n\n\n/**\n * Is the InfoBubble open\n *\n * @return {boolean} If the InfoBubble is open.\n */\nInfoBubble.prototype.isOpen = function() {\n  return this.isOpen_;\n};\nInfoBubble.prototype['isOpen'] = InfoBubble.prototype.isOpen;\n\n\n/**\n * Close the InfoBubble\n */\nInfoBubble.prototype.close = function() {\n  if (this.bubble_) {\n    this.bubble_.style['display'] = 'none';\n    // Remove the animation so we next time it opens it will animate again\n    this.bubble_.className =\n        this.bubble_.className.replace(this.animationName_, '');\n  }\n\n  if (this.bubbleShadow_) {\n    this.bubbleShadow_.style['display'] = 'none';\n    this.bubbleShadow_.className =\n        this.bubbleShadow_.className.replace(this.animationName_, '');\n  }\n  this.isOpen_ = false;\n};\nInfoBubble.prototype['close'] = InfoBubble.prototype.close;\n\n\n/**\n * Open the InfoBubble (asynchronous).\n *\n * @param {google.maps.Map=} opt_map Optional map to open on.\n * @param {google.maps.MVCObject=} opt_anchor Optional anchor to position at.\n */\nInfoBubble.prototype.open = function(opt_map, opt_anchor) {\n  var that = this;\n  window.setTimeout(function() {\n    that.open_(opt_map, opt_anchor);\n  }, 0);\n};\n\n/**\n * Open the InfoBubble\n * @private\n * @param {google.maps.Map=} opt_map Optional map to open on.\n * @param {google.maps.MVCObject=} opt_anchor Optional anchor to position at.\n */\nInfoBubble.prototype.open_ = function(opt_map, opt_anchor) {\n  this.updateContent_();\n\n  if (opt_map) {\n    this.setMap(opt_map);\n  }\n\n  if (opt_anchor) {\n    this.set('anchor', opt_anchor);\n    this.bindTo('anchorPoint', opt_anchor);\n    this.bindTo('position', opt_anchor);\n  }\n\n  // Show the bubble and the show\n  this.bubble_.style['display'] = this.bubbleShadow_.style['display'] = '';\n  var animation = !this.get('disableAnimation');\n\n  if (animation) {\n    // Add the animation\n    this.bubble_.className += ' ' + this.animationName_;\n    this.bubbleShadow_.className += ' ' + this.animationName_;\n  }\n\n  this.redraw_();\n  this.isOpen_ = true;\n\n  var pan = !this.get('disableAutoPan');\n  if (pan) {\n    var that = this;\n    window.setTimeout(function() {\n      // Pan into view, done in a time out to make it feel nicer :)\n      that.panToView();\n    }, 200);\n  }\n};\nInfoBubble.prototype['open'] = InfoBubble.prototype.open;\n\n\n/**\n * Set the position of the InfoBubble\n *\n * @param {google.maps.LatLng} position The position to set.\n */\nInfoBubble.prototype.setPosition = function(position) {\n  if (position) {\n    this.set('position', position);\n  }\n};\nInfoBubble.prototype['setPosition'] = InfoBubble.prototype.setPosition;\n\n\n/**\n * Returns the position of the InfoBubble\n *\n * @return {google.maps.LatLng} the position.\n */\nInfoBubble.prototype.getPosition = function() {\n  return /** @type {google.maps.LatLng} */ (this.get('position'));\n};\nInfoBubble.prototype['getPosition'] = InfoBubble.prototype.getPosition;\n\n\n/**\n * position changed MVC callback\n */\nInfoBubble.prototype.position_changed = function() {\n  this.draw();\n};\nInfoBubble.prototype['position_changed'] =\n    InfoBubble.prototype.position_changed;\n\n\n/**\n * Pan the InfoBubble into view\n */\nInfoBubble.prototype.panToView = function() {\n  var projection = this.getProjection();\n\n  if (!projection) {\n    // The map projection is not ready yet so do nothing\n    return;\n  }\n\n  if (!this.bubble_) {\n    // No Bubble yet so do nothing\n    return;\n  }\n\n  var anchorHeight = this.getAnchorHeight_();\n  var height = this.bubble_.offsetHeight + anchorHeight;\n  var map = this.get('map');\n  var mapDiv = map.getDiv();\n  var mapHeight = mapDiv.offsetHeight;\n\n  var latLng = this.getPosition();\n  var centerPos = projection.fromLatLngToContainerPixel(map.getCenter());\n  var pos = projection.fromLatLngToContainerPixel(latLng);\n\n  // Find out how much space at the top is free\n  var spaceTop = centerPos.y - height;\n\n  // Fine out how much space at the bottom is free\n  var spaceBottom = mapHeight - centerPos.y;\n\n  var needsTop = spaceTop < 0;\n  var deltaY = 0;\n\n  if (needsTop) {\n    spaceTop *= -1;\n    deltaY = (spaceTop + spaceBottom) / 2;\n  }\n\n  pos.y -= deltaY;\n  latLng = projection.fromContainerPixelToLatLng(pos);\n\n  if (map.getCenter() != latLng) {\n    map.panTo(latLng);\n  }\n};\nInfoBubble.prototype['panToView'] = InfoBubble.prototype.panToView;\n\n\n/**\n * Converts a HTML string to a document fragment.\n *\n * @param {string} htmlString The HTML string to convert.\n * @return {Node} A HTML document fragment.\n * @private\n */\nInfoBubble.prototype.htmlToDocumentFragment_ = function(htmlString) {\n  htmlString = htmlString.replace(/^\\s*([\\S\\s]*)\\b\\s*$/, '$1');\n  var tempDiv = document.createElement('DIV');\n  tempDiv.innerHTML = htmlString;\n  if (tempDiv.childNodes.length == 1) {\n    return /** @type {!Node} */ (tempDiv.removeChild(tempDiv.firstChild));\n  } else {\n    var fragment = document.createDocumentFragment();\n    while (tempDiv.firstChild) {\n      fragment.appendChild(tempDiv.firstChild);\n      // console.log(tempDiv.firstChild);\n    }\n    return fragment;\n  }\n};\n\n\n/**\n * Removes all children from the node.\n *\n * @param {Node} node The node to remove all children from.\n * @private\n */\nInfoBubble.prototype.removeChildren_ = function(node) {\n  if (!node) {\n    return;\n  }\n\n  var child;\n  while (child = node.firstChild) {\n    node.removeChild(child);\n  }\n};\n\n\n/**\n * Sets the content of the infobubble.\n *\n * @param {string|Node} content The content to set.\n */\nInfoBubble.prototype.setContent = function(content) {\n  this.set('content', content);\n};\nInfoBubble.prototype['setContent'] = InfoBubble.prototype.setContent;\n\n\n/**\n * Get the content of the infobubble.\n *\n * @return {string|Node} The marker content.\n */\nInfoBubble.prototype.getContent = function() {\n  return /** @type {Node|string} */ (this.get('content'));\n};\nInfoBubble.prototype['getContent'] = InfoBubble.prototype.getContent;\n\n\n/**\n * Sets the marker content and adds loading events to images\n */\nInfoBubble.prototype.updateContent_ = function() {\n  if (!this.content_) {\n    // The Content area doesnt exist.\n    return;\n  }\n\n  this.removeChildren_(this.content_);\n  var content = this.getContent();\n  if (content) {\n    if (typeof content == 'string') {\n      content = this.htmlToDocumentFragment_(content);\n    }\n    this.content_.appendChild(content);\n\n    var that = this;\n    var images = this.content_.getElementsByTagName('IMG');\n    for (var i = 0, image; image = images[i]; i++) {\n      // Because we don't know the size of an image till it loads, add a\n      // listener to the image load so the marker can resize and reposition\n      // itself to be the correct height.\n      google.maps.event.addDomListener(image, 'load', function() {\n        that.imageLoaded_();\n      });\n    }\n    google.maps.event.trigger(this, 'domready');\n  }\n  this.redraw_();\n};\n\n/**\n * Image loaded\n * @private\n */\nInfoBubble.prototype.imageLoaded_ = function() {\n  var pan = !this.get('disableAutoPan');\n  this.redraw_();\n  if (pan && (this.tabs_.length == 0 || this.activeTab_.index == 0)) {\n    this.panToView();\n  }\n};\n\n/**\n * Updates the styles of the tabs\n * @private\n */\nInfoBubble.prototype.updateTabStyles_ = function() {\n  if (this.tabs_ && this.tabs_.length) {\n    for (var i = 0, tab; tab = this.tabs_[i]; i++) {\n      this.setTabStyle_(tab.tab);\n    }\n    this.activeTab_.style['zIndex'] = this.baseZIndex_;\n    var borderWidth = this.getBorderWidth_();\n    var padding = this.getPadding_() / 2;\n    this.activeTab_.style['borderBottomWidth'] = 0;\n    this.activeTab_.style['paddingBottom'] = this.px(padding + borderWidth);\n  }\n};\n\n\n/**\n * Sets the style of a tab\n * @private\n * @param {Element} tab The tab to style.\n */\nInfoBubble.prototype.setTabStyle_ = function(tab) {\n  var backgroundColor = this.get('backgroundColor');\n  var borderColor = this.get('borderColor');\n  var borderRadius = this.getBorderRadius_();\n  var borderWidth = this.getBorderWidth_();\n  var padding = this.getPadding_();\n\n  var marginRight = this.px(-(Math.max(padding, borderRadius)));\n  var borderRadiusPx = this.px(borderRadius);\n\n  var index = this.baseZIndex_;\n  if (tab.index) {\n    index -= tab.index;\n  }\n\n  // The styles for the tab\n  var styles = {\n    'cssFloat': 'left',\n    'position': 'relative',\n    'cursor': 'pointer',\n    'backgroundColor': backgroundColor,\n    'border': this.px(borderWidth) + ' solid ' + borderColor,\n    'padding': this.px(padding / 2) + ' ' + this.px(padding),\n    'marginRight': marginRight,\n    'whiteSpace': 'nowrap',\n    'borderRadiusTopLeft': borderRadiusPx,\n    'MozBorderRadiusTopleft': borderRadiusPx,\n    'webkitBorderTopLeftRadius': borderRadiusPx,\n    'borderRadiusTopRight': borderRadiusPx,\n    'MozBorderRadiusTopright': borderRadiusPx,\n    'webkitBorderTopRightRadius': borderRadiusPx,\n    'zIndex': index,\n    'display': 'inline'\n  };\n\n  for (var style in styles) {\n    tab.style[style] = styles[style];\n  }\n\n  var className = this.get('tabClassName');\n  if (className != undefined) {\n    tab.className += ' ' + className;\n  }\n};\n\n\n/**\n * Add user actions to a tab\n * @private\n * @param {Object} tab The tab to add the actions to.\n */\nInfoBubble.prototype.addTabActions_ = function(tab) {\n  var that = this;\n  tab.listener_ = google.maps.event.addDomListener(tab, 'click', function() {\n    that.setTabActive_(this);\n  });\n};\n\n\n/**\n * Set a tab at a index to be active\n *\n * @param {number} index The index of the tab.\n */\nInfoBubble.prototype.setTabActive = function(index) {\n  var tab = this.tabs_[index - 1];\n\n  if (tab) {\n    this.setTabActive_(tab.tab);\n  }\n};\nInfoBubble.prototype['setTabActive'] = InfoBubble.prototype.setTabActive;\n\n\n/**\n * Set a tab to be active\n * @private\n * @param {Object} tab The tab to set active.\n */\nInfoBubble.prototype.setTabActive_ = function(tab) {\n  if (!tab) {\n    this.setContent('');\n    this.updateContent_();\n    return;\n  }\n\n  var padding = this.getPadding_() / 2;\n  var borderWidth = this.getBorderWidth_();\n\n  if (this.activeTab_) {\n    var activeTab = this.activeTab_;\n    activeTab.style['zIndex'] = this.baseZIndex_ - activeTab.index;\n    activeTab.style['paddingBottom'] = this.px(padding);\n    activeTab.style['borderBottomWidth'] = this.px(borderWidth);\n  }\n\n  tab.style['zIndex'] = this.baseZIndex_;\n  tab.style['borderBottomWidth'] = 0;\n  tab.style['marginBottomWidth'] = '-10px';\n  tab.style['paddingBottom'] = this.px(padding + borderWidth);\n\n  this.setContent(this.tabs_[tab.index].content);\n  this.updateContent_();\n\n  this.activeTab_ = tab;\n\n  this.redraw_();\n};\n\n\n/**\n * Set the max width of the InfoBubble\n *\n * @param {number} width The max width.\n */\nInfoBubble.prototype.setMaxWidth = function(width) {\n  this.set('maxWidth', width);\n};\nInfoBubble.prototype['setMaxWidth'] = InfoBubble.prototype.setMaxWidth;\n\n\n/**\n * maxWidth changed MVC callback\n */\nInfoBubble.prototype.maxWidth_changed = function() {\n  this.redraw_();\n};\nInfoBubble.prototype['maxWidth_changed'] =\n    InfoBubble.prototype.maxWidth_changed;\n\n\n/**\n * Set the max height of the InfoBubble\n *\n * @param {number} height The max height.\n */\nInfoBubble.prototype.setMaxHeight = function(height) {\n  this.set('maxHeight', height);\n};\nInfoBubble.prototype['setMaxHeight'] = InfoBubble.prototype.setMaxHeight;\n\n\n/**\n * maxHeight changed MVC callback\n */\nInfoBubble.prototype.maxHeight_changed = function() {\n  this.redraw_();\n};\nInfoBubble.prototype['maxHeight_changed'] =\n    InfoBubble.prototype.maxHeight_changed;\n\n\n/**\n * Set the min width of the InfoBubble\n *\n * @param {number} width The min width.\n */\nInfoBubble.prototype.setMinWidth = function(width) {\n  this.set('minWidth', width);\n};\nInfoBubble.prototype['setMinWidth'] = InfoBubble.prototype.setMinWidth;\n\n\n/**\n * minWidth changed MVC callback\n */\nInfoBubble.prototype.minWidth_changed = function() {\n  this.redraw_();\n};\nInfoBubble.prototype['minWidth_changed'] =\n    InfoBubble.prototype.minWidth_changed;\n\n\n/**\n * Set the min height of the InfoBubble\n *\n * @param {number} height The min height.\n */\nInfoBubble.prototype.setMinHeight = function(height) {\n  this.set('minHeight', height);\n};\nInfoBubble.prototype['setMinHeight'] = InfoBubble.prototype.setMinHeight;\n\n\n/**\n * minHeight changed MVC callback\n */\nInfoBubble.prototype.minHeight_changed = function() {\n  this.redraw_();\n};\nInfoBubble.prototype['minHeight_changed'] =\n    InfoBubble.prototype.minHeight_changed;\n\n\n/**\n * Add a tab\n *\n * @param {string} label The label of the tab.\n * @param {string|Element} content The content of the tab.\n */\nInfoBubble.prototype.addTab = function(label, content) {\n  var tab = document.createElement('DIV');\n  tab.innerHTML = label;\n\n  this.setTabStyle_(tab);\n  this.addTabActions_(tab);\n\n  this.tabsContainer_.appendChild(tab);\n\n  this.tabs_.push({\n    label: label,\n    content: content,\n    tab: tab\n  });\n\n  tab.index = this.tabs_.length - 1;\n  tab.style['zIndex'] = this.baseZIndex_ - tab.index;\n\n  if (!this.activeTab_) {\n    this.setTabActive_(tab);\n  }\n\n  tab.className = tab.className + ' ' + this.animationName_;\n\n  this.redraw_();\n};\nInfoBubble.prototype['addTab'] = InfoBubble.prototype.addTab;\n\n/**\n * Update a tab at a speicifc index\n *\n * @param {number} index The index of the tab.\n * @param {?string} opt_label The label to change to.\n * @param {?string} opt_content The content to update to.\n */\nInfoBubble.prototype.updateTab = function(index, opt_label, opt_content) {\n  if (!this.tabs_.length || index < 0 || index >= this.tabs_.length) {\n    return;\n  }\n\n  var tab = this.tabs_[index];\n  if (opt_label != undefined) {\n    tab.tab.innerHTML = tab.label = opt_label;\n  }\n\n  if (opt_content != undefined) {\n    tab.content = opt_content;\n  }\n\n  if (this.activeTab_ == tab.tab) {\n    this.setContent(tab.content);\n    this.updateContent_();\n  }\n  this.redraw_();\n};\nInfoBubble.prototype['updateTab'] = InfoBubble.prototype.updateTab;\n\n\n/**\n * Remove a tab at a specific index\n *\n * @param {number} index The index of the tab to remove.\n */\nInfoBubble.prototype.removeTab = function(index) {\n  if (!this.tabs_.length || index < 0 || index >= this.tabs_.length) {\n    return;\n  }\n\n  var tab = this.tabs_[index];\n  tab.tab.parentNode.removeChild(tab.tab);\n\n  google.maps.event.removeListener(tab.tab.listener_);\n\n  this.tabs_.splice(index, 1);\n\n  //delete tab;\n\n  for (var i = 0, t; t = this.tabs_[i]; i++) {\n    t.tab.index = i;\n  }\n\n  if (tab.tab == this.activeTab_) {\n    // Removing the current active tab\n    if (this.tabs_[index]) {\n      // Show the tab to the right\n      this.activeTab_ = this.tabs_[index].tab;\n    } else if (this.tabs_[index - 1]) {\n      // Show a tab to the left\n      this.activeTab_ = this.tabs_[index - 1].tab;\n    } else {\n      // No tabs left to sho\n      this.activeTab_ = undefined;\n    }\n\n    this.setTabActive_(this.activeTab_);\n  }\n\n  this.redraw_();\n};\nInfoBubble.prototype['removeTab'] = InfoBubble.prototype.removeTab;\n\n\n/**\n * Get the size of an element\n * @private\n * @param {Node|string} element The element to size.\n * @param {number=} opt_maxWidth Optional max width of the element.\n * @param {number=} opt_maxHeight Optional max height of the element.\n * @return {google.maps.Size} The size of the element.\n */\nInfoBubble.prototype.getElementSize_ = function(element, opt_maxWidth,\n                                                opt_maxHeight) {\n  var sizer = document.createElement('DIV');\n  sizer.style['display'] = 'inline';\n  sizer.style['position'] = 'absolute';\n  sizer.style['visibility'] = 'hidden';\n\n  if (typeof element == 'string') {\n    sizer.innerHTML = element;\n  } else {\n    sizer.appendChild(element.cloneNode(true));\n  }\n\n  document.body.appendChild(sizer);\n  var size = new google.maps.Size(sizer.offsetWidth, sizer.offsetHeight);\n\n  // If the width is bigger than the max width then set the width and size again\n  if (opt_maxWidth && size.width > opt_maxWidth) {\n    sizer.style['width'] = this.px(opt_maxWidth);\n    size = new google.maps.Size(sizer.offsetWidth, sizer.offsetHeight);\n  }\n\n  // If the height is bigger than the max height then set the height and size\n  // again\n  if (opt_maxHeight && size.height > opt_maxHeight) {\n    sizer.style['height'] = this.px(opt_maxHeight);\n    size = new google.maps.Size(sizer.offsetWidth, sizer.offsetHeight);\n  }\n\n  document.body.removeChild(sizer);\n  //delete sizer;\n  return size;\n};\n\n\n/**\n * Redraw the InfoBubble\n * @private\n */\nInfoBubble.prototype.redraw_ = function() {\n  this.figureOutSize_();\n  this.positionCloseButton_();\n  this.draw();\n};\n\n\n/**\n * Figure out the optimum size of the InfoBubble\n * @private\n */\nInfoBubble.prototype.figureOutSize_ = function() {\n  var map = this.get('map');\n\n  if (!map) {\n    return;\n  }\n\n  var padding = this.getPadding_();\n  var borderWidth = this.getBorderWidth_();\n  var borderRadius = this.getBorderRadius_();\n  var arrowSize = this.getArrowSize_();\n\n  var mapDiv = map.getDiv();\n  var gutter = arrowSize * 2;\n  var mapWidth = mapDiv.offsetWidth - gutter;\n  var mapHeight = mapDiv.offsetHeight - gutter - this.getAnchorHeight_();\n  var tabHeight = 0;\n  var width = /** @type {number} */ (this.get('minWidth') || 0);\n  var height = /** @type {number} */ (this.get('minHeight') || 0);\n  var maxWidth = /** @type {number} */ (this.get('maxWidth') || 0);\n  var maxHeight = /** @type {number} */ (this.get('maxHeight') || 0);\n\n  maxWidth = Math.min(mapWidth, maxWidth);\n  maxHeight = Math.min(mapHeight, maxHeight);\n\n  var tabWidth = 0;\n  if (this.tabs_.length) {\n    // If there are tabs then you need to check the size of each tab's content\n    for (var i = 0, tab; tab = this.tabs_[i]; i++) {\n      var tabSize = this.getElementSize_(tab.tab, maxWidth, maxHeight);\n      var contentSize = this.getElementSize_(tab.content, maxWidth, maxHeight);\n\n      if (width < tabSize.width) {\n        width = tabSize.width;\n      }\n\n      // Add up all the tab widths because they might end up being wider than\n      // the content\n      tabWidth += tabSize.width;\n\n      if (height < tabSize.height) {\n        height = tabSize.height;\n      }\n\n      if (tabSize.height > tabHeight) {\n        tabHeight = tabSize.height;\n      }\n\n      if (width < contentSize.width) {\n        width = contentSize.width;\n      }\n\n      if (height < contentSize.height) {\n        height = contentSize.height;\n      }\n    }\n  } else {\n    var content = /** @type {string|Node} */ (this.get('content'));\n    if (typeof content == 'string') {\n      content = this.htmlToDocumentFragment_(content);\n    }\n    if (content) {\n      var contentSize = this.getElementSize_(content, maxWidth, maxHeight);\n\n      if (width < contentSize.width) {\n        width = contentSize.width;\n      }\n\n      if (height < contentSize.height) {\n        height = contentSize.height;\n      }\n    }\n  }\n\n  if (maxWidth) {\n    width = Math.min(width, maxWidth);\n  }\n\n  if (maxHeight) {\n    height = Math.min(height, maxHeight);\n  }\n\n  width = Math.max(width, tabWidth);\n\n  if (width == tabWidth) {\n    width = width + 2 * padding;\n  }\n\n  arrowSize = arrowSize * 2;\n  width = Math.max(width, arrowSize);\n\n  // Maybe add this as a option so they can go bigger than the map if the user\n  // wants\n  if (width > mapWidth) {\n    width = mapWidth;\n  }\n\n  if (height > mapHeight) {\n    height = mapHeight - tabHeight;\n  }\n\n  if (this.tabsContainer_) {\n    this.tabHeight_ = tabHeight;\n    this.tabsContainer_.style['width'] = this.px(tabWidth);\n  }\n\n  this.contentContainer_.style['width'] = this.px(width);\n  this.contentContainer_.style['height'] = this.px(height);\n};\n\n\n/**\n *  Get the height of the anchor\n *\n *  This function is a hack for now and doesn't really work that good, need to\n *  wait for pixelBounds to be correctly exposed.\n *  @private\n *  @return {number} The height of the anchor.\n */\nInfoBubble.prototype.getAnchorHeight_ = function() {\n  var anchor = this.get('anchor');\n  if (anchor) {\n    var anchorPoint = /** @type google.maps.Point */(this.get('anchorPoint'));\n\n    if (anchorPoint) {\n      return -1 * anchorPoint.y;\n    }\n  }\n  return 0;\n};\n\nInfoBubble.prototype.anchorPoint_changed = function() {\n  this.draw();\n};\nInfoBubble.prototype['anchorPoint_changed'] = InfoBubble.prototype.anchorPoint_changed;\n\n\n/**\n * Position the close button in the right spot.\n * @private\n */\nInfoBubble.prototype.positionCloseButton_ = function() {\n  var br = this.getBorderRadius_();\n  var bw = this.getBorderWidth_();\n\n  var right = 2;\n  var top = 2;\n\n  if (this.tabs_.length && this.tabHeight_) {\n    top += this.tabHeight_;\n  }\n\n  top += bw;\n  right += bw;\n\n  var c = this.contentContainer_;\n  if (c && c.clientHeight < c.scrollHeight) {\n    // If there are scrollbars then move the cross in so it is not over\n    // scrollbar\n    right += 15;\n  }\n\n  this.close_.style['right'] = this.px(right);\n  this.close_.style['top'] = this.px(top);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/js/modules/dep/infoBubble/infobubble.js\n// module id = 377\n// module chunks = 1"],"sourceRoot":""}